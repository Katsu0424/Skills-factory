# implementer

実装者スキル - タスクに基づいてコードを作成・編集する

## トリガー

- `conductor` から実装指示を受けた時
- 検証/レビュー失敗後の修正時
- `/implementer` コマンド実行時

## 目的

タスクの What/Where/How に従って、コードを作成または編集する

---

## 入力

- タスク定義（What/Where/How/Why/Done when）
- （修正時）失敗理由・指摘事項

## 出力

- 実装完了報告
- 変更ファイル一覧
- 変更内容サマリー

---

## 処理フロー

### 1. タスク理解

タスク定義を確認：

```markdown
### タスク: ユーザー認証APIを実装する

| 項目 | 内容 |
|------|------|
| What | JWT認証エンドポイントを追加 |
| Where | src/api/auth.ts |
| How | /login, /logout, /refresh を実装 |
| Why | ユーザー認証機能のため |
| Done when | 各エンドポイントが正常動作 |
```

### 2. 現状把握

対象ファイル・モジュールの現状を確認：
- 既存コードの読み込み
- 関連ファイルの確認
- 使用パターンの把握

### 3. 実装計画

変更内容を整理：
- 新規作成するファイル
- 編集するファイル
- 追加する依存関係

### 4. コード実装

How に従ってコードを作成・編集：
- 既存のコーディング規約に従う
- 型安全性を確保
- エラーハンドリングを適切に実装

### 5. 自己確認

実装後の簡易確認：
- 構文エラーがないか
- 明らかなバグがないか
- タスクのWhatを満たしているか

---

## 実装ガイドライン

### コード品質

- 既存コードのスタイルに合わせる
- 適切な命名を使用
- 必要最小限の変更に留める
- 過度な抽象化を避ける

### エラーハンドリング

- 境界値でのバリデーション
- 適切なエラーメッセージ
- リカバリー可能な場合は処理継続

### セキュリティ

- インジェクション対策
- 認証・認可の確認
- 機密情報の露出防止

---

## 修正時の対応

### 検証失敗からの修正

```markdown
## 検証失敗レポート

失敗内容: テスト auth.test.ts が失敗
エラー: Expected 200 but got 401

## 修正方針

認証ヘッダーの検証ロジックを修正
```

### レビュー指摘からの修正

```markdown
## レビュー指摘

1. 変数名が不適切: `data` → `userData`
2. エラーハンドリング不足: nullチェック追加

## 修正内容

上記2点を修正
```

---

## 出力テンプレート

```markdown
## 実装完了報告

### タスク

[タスク名]

### 変更ファイル

| ファイル | 変更種別 |
|----------|----------|
| src/api/auth.ts | 新規作成 |
| src/types/auth.ts | 新規作成 |
| src/routes/index.ts | 編集 |

### 変更内容サマリー

- JWT認証の3エンドポイントを実装
- 認証用の型定義を追加
- ルーティングに認証エンドポイントを追加

### 次のステップ

validator による検証へ
```

---

## 制約

- タスクのスコープを超えない
- 不要なリファクタリングをしない
- 新規依存の追加は最小限に
- 既存のテストを壊さない

---

## 次のスキル

実装完了後 → `conductor` へ報告 → `validator` へ
