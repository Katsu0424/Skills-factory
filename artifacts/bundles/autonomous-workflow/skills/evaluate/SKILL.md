---
name: evaluate
description: |
  TODOリストの品質をチェックし、ユーザー承認を得る。
  decomposeスキル完了後、または/evaluateコマンド実行時に使用。
  網羅性/粒度/明確性/依存関係/実現可能性を評価し、承認後にDo Phaseへ移行。
allowed-tools: Read, Write, Edit, Grep, Glob, TodoRead, TodoWrite, AskUserQuestion
context: fork
agent: Plan
---

# evaluate

評価・承認スキル - TODOリストの品質をチェックし、ユーザー承認を得る

## トリガー

- `decompose` スキル完了後
- TODOリストが存在する場合
- `/evaluate` コマンド実行時

## 目的

TODOリストが実行可能な品質であることを確認し、ユーザーの承認を得てから実行フェーズに移行する

---

## 入力

- TODOリスト（`decompose` スキルの出力）
- 元の決定事項リスト

## 出力

- 評価レポート
- ユーザー承認（介入ポイント）

---

## 評価チェックリスト

### 1. 網羅性

- [ ] 決定事項がすべてタスクに反映されているか
- [ ] 必要な機能が漏れていないか
- [ ] テストタスクが含まれているか

### 2. 粒度

- [ ] 各タスクが5〜30分で完了可能か
- [ ] 細かすぎるタスクがないか
- [ ] 大きすぎるタスクがないか

### 3. 明確性

- [ ] What/Where/How/Why/Done whenが明確か
- [ ] 完了条件が客観的に判定可能か
- [ ] 曖昧な表現がないか

### 4. 依存関係

- [ ] 依存関係が正しく設定されているか
- [ ] 循環依存がないか
- [ ] 実行順序が適切か

### 5. 実現可能性

- [ ] 技術的に実現可能か
- [ ] 既存コードとの整合性があるか
- [ ] リスクが特定されているか

---

## 処理フロー

### 1. 自動評価

チェックリストに基づいてTODOリストを評価：

```
評価中...

✓ 網羅性: OK - 5つの決定事項すべてがタスクに反映
✓ 粒度: OK - 全タスクが5〜30分の範囲
✓ 明確性: OK - 完了条件が客観的
△ 依存関係: 注意 - タスク3と4の順序を要確認
✓ 実現可能性: OK - 既存パターンに準拠
```

### 2. 問題の指摘

問題がある場合は具体的に指摘：

```
## 指摘事項

### [警告] タスク3の粒度

現在の粒度では大きすぎる可能性があります。
以下の分割を推奨:
- タスク3a: ...
- タスク3b: ...
```

### 3. ユーザー承認リクエスト

評価結果とTODOリストをユーザーに提示し、承認を求める。

---

## 出力テンプレート

```markdown
## 評価レポート

### サマリー

| 項目 | 状態 | 備考 |
|------|------|------|
| 網羅性 | ✓ | - |
| 粒度 | ✓ | - |
| 明確性 | ✓ | - |
| 依存関係 | △ | 要確認点あり |
| 実現可能性 | ✓ | - |

### 指摘事項

（問題がある場合のみ記載）

### TODOリスト（最終版）

（decomposeの出力、修正がある場合は反映）

---

## 承認リクエスト

上記の計画で実行を開始してよろしいですか？

- **承認**: 実行フェーズ（Do Phase）を開始
- **修正**: 指摘事項を修正して再評価
- **中止**: タスクを中止
```

---

## ユーザー介入ポイント

このスキルは **必ずユーザーの承認を得る** 介入ポイントです。

自動的に次のフェーズに進むことはありません。

### 承認時の確認事項

1. TODOリストの内容に同意するか
2. 実行順序に問題はないか
3. 追加・修正したい点はないか

---

## 次のスキル

ユーザー承認後 → `conductor` スキル（Do Phase）へ
